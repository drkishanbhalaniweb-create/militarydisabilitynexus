module.exports=[28758,a=>{"use strict";let b=(0,a.i(40541).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],28758)},71187,a=>{"use strict";let b=(0,a.i(40541).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],71187)},56643,a=>{"use strict";let b=(0,a.i(40541).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],56643)},81587,a=>{"use strict";let b=(0,a.i(40541).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],81587)},49990,a=>{"use strict";let b=[{id:"service_connection",number:1,title:"Are you confident the VA can clearly see how your condition is connected to service?",helper:"A diagnosis alone isn't enough — the VA looks for specific medical or service evidence linking your condition to military service.",category:"Service Connection",options:[{text:"No — the connection is not clearly shown",points:2},{text:"Somewhat — parts are there, but I'm not fully sure",points:1},{text:"Yes — the connection is clearly documented",points:0}]},{id:"denial_handling",number:2,title:"If you were denied before, do you fully understand — and have you fixed — the actual reason for denial?",helper:"Many veterans later realize they were fixing the wrong issue because denial letters are easy to misunderstand.",category:"Denial Handling",options:[{text:"No — I'm not sure what the reason was",points:2},{text:"Somewhat — I think I understand but I'm not certain",points:1},{text:"Yes — I understand and have addressed it",points:0}]},{id:"pathway",number:3,title:"Are you certain you're filing under the correct claim type for your situation?",helper:"Filing a new, supplemental, or increase claim under the wrong path can delay or derail a claim.",category:"Claim Pathway",options:[{text:"No — I'm not sure which type applies",points:2},{text:"Somewhat — I think I know but I'm not certain",points:1},{text:"Yes — I'm certain of the correct pathway",points:0}]},{id:"severity",number:4,title:"Is your medical evidence detailed enough to support the rating level you're seeking?",helper:"The VA rates based on documented severity, frequency, and functional impact — not just a diagnosis.",category:"Medical Evidence",options:[{text:"No — my evidence is minimal or vague",points:2},{text:"Somewhat — I have some details but could be more thorough",points:1},{text:"Yes — my evidence is detailed and comprehensive",points:0}]},{id:"secondaries",number:5,title:"Have you identified all conditions caused or worsened by your service-connected issues?",helper:"Secondary conditions are often missed and discovered only after a denial or low rating.",category:"Secondary Conditions",options:[{text:"No — I haven't considered secondary conditions",points:2},{text:"Somewhat — I've identified some but may have missed others",points:1},{text:"Yes — I've identified all related conditions",points:0}]}],c=b.length;a.s(["ASSESSMENT_AREAS",0,{service_connection:{name:"Service connection clarity",description:"Medical records and nexus documentation"},denial_handling:{name:"Denial handling",description:"Addressing previous denial reasons"},pathway:{name:"Claim pathway selection",description:"Correct claim type selection"},severity:{name:"Severity documentation",description:"Medical impact documentation"},secondaries:{name:"Secondary conditions",description:"Secondary condition identification"}},"QUESTIONS",0,b,"RECOMMENDATIONS",0,{FULLY_READY:{category:"FULLY_READY",scoreRange:[0,0],message:"Your claim appears READY to file",subtitle:"Your answers suggest your claim is well-prepared and aligned with VA requirements.",color:"#10b981",badgeColor:"green",icon:"CheckCircle",ctaText:"Optional Final Readiness Review",ctaSubtext:"Even strong claims benefit from a final double-check.",ctaOptional:!0,tone:"positive"},OPTIONAL_CONFIRMATION:{category:"OPTIONAL_CONFIRMATION",scoreRange:[1,2],message:"Your claim appears mostly ready",subtitle:"Your answers suggest your claim is strong, with minor areas that could benefit from review.",color:"#3b82f6",badgeColor:"blue",icon:"Info",ctaText:"Get an Honest Claim Readiness Review",ctaSubtext:"No guarantees. No filing. Just clarity.",ctaOptional:!1,tone:"neutral"},REVIEW_BENEFICIAL:{category:"REVIEW_BENEFICIAL",scoreRange:[3,6],message:"Your claim appears mostly ready — with a few areas worth reviewing",subtitle:"This is common. Many veterans in this range file confidently but later discover small issues.",color:"#f59e0b",badgeColor:"orange",icon:"AlertTriangle",ctaText:"Get an Honest Claim Readiness Review",ctaSubtext:"No guarantees. No filing. Just clarity.",ctaOptional:!1,tone:"educational"},REVIEW_STRONGLY_RECOMMENDED:{category:"REVIEW_STRONGLY_RECOMMENDED",scoreRange:[7,10],message:"Your answers suggest your claim may face avoidable denial risks",subtitle:"Most veterans only uncover these issues after a denial — often months later.",color:"#dc2626",badgeColor:"red",icon:"XCircle",ctaText:"Get an Honest Claim Readiness Review",ctaSubtext:"No guarantees. No filing. Just clarity.",ctaOptional:!1,tone:"serious"}},"RECOMMENDATION_CATEGORIES",0,{FULLY_READY:"FULLY_READY",OPTIONAL_CONFIRMATION:"OPTIONAL_CONFIRMATION",REVIEW_BENEFICIAL:"REVIEW_BENEFICIAL",REVIEW_STRONGLY_RECOMMENDED:"REVIEW_STRONGLY_RECOMMENDED"},"STATUS_INDICATORS",0,{ADEQUATE:{icon:"CheckCircle",label:"Adequate",color:"green",points:0},NEEDS_ATTENTION:{icon:"AlertCircle",label:"Needs attention",color:"yellow",points:1},MISSING:{icon:"XCircle",label:"Missing",color:"red",points:2}},"TOTAL_QUESTIONS",0,c])},38466,a=>{"use strict";let b=(0,a.i(40541).default)("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],38466)},661,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(38466),g=a.i(47178),h=a.i(81587),i=a.i(71187),j=a.i(56643),k=a.i(28758),l=a.i(87080),m=a.i(15887),n=a.i(49990),o=a.i(85273),p=a.i(57748),q=a.i(34059),r=b([m,o]);[m,o]=r.then?(await r)():r,a.s(["default",0,()=>{let[a,b]=(0,e.useState)([]),[c,r]=(0,e.useState)(!0),[s,t]=(0,e.useState)({total:0,converted:0,avgScore:0,byRecommendation:{}}),[u,v]=(0,e.useState)("all"),[w,x]=(0,e.useState)("7");(0,e.useEffect)(()=>{y()},[u,w]);let y=async()=>{try{r(!0);let a=new Date;a.setDate(a.getDate()-parseInt(w));let c=l.supabase.from("diagnostic_sessions").select("*").gte("created_at",a.toISOString()).order("created_at",{ascending:!1});"converted"===u?c=c.eq("converted_to_booking",!0):"not_converted"===u&&(c=c.eq("converted_to_booking",!1));let{data:d,error:e}=await c;if(e)throw e;b(d||[]),z(d||[])}catch(a){console.error("Error fetching diagnostics:",a),m.toast.error("Failed to load diagnostic data")}finally{r(!1)}},z=a=>{let b=a.length,c=a.filter(a=>a.converted_to_booking).length,d=b>0?(a.reduce((a,b)=>a+(b.total_score||0),0)/b).toFixed(1):0,e=a.reduce((a,b)=>{let c=b.recommendation||"UNKNOWN";return a[c]=(a[c]||0)+1,a},{});t({total:b,converted:c,avgScore:d,byRecommendation:e})},A=s.total>0?(s.converted/s.total*100).toFixed(1):0,B=a=>{let b=n.RECOMMENDATIONS[a];return b?b.color:"#6b7280"},C=a=>a.replace(/_/g," ").toLowerCase(),D=async()=>{if(window.confirm("Are you sure you want to completely RESET all diagnostic data? This action cannot be undone and will delete all session history."))try{r(!0);let{data:a,error:b}=await l.supabase.from("diagnostic_sessions").select("id");if(b)throw b;if(!a||0===a.length){m.toast.success("No data to reset."),r(!1);return}let c=a.map(a=>a.id),{error:d}=await l.supabase.from("diagnostic_sessions").delete().in("id",c);if(d)throw d;m.toast.success("Diagnostics data has been successfully reset."),y()}catch(a){console.error("Error resetting diagnostics:",a),m.toast.error(`Failed to reset data: ${a.message||"Unknown error"}`),r(!1)}};return(0,d.jsx)(p.default,{children:(0,d.jsxs)(o.default,{children:[(0,d.jsx)(q.default,{title:"Diagnostic Analytics",noindex:!0}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Diagnostic Analytics"}),(0,d.jsx)("p",{className:"text-slate-600 mt-1",children:"VA Claim Readiness Diagnostic sessions and conversions"})]}),(0,d.jsxs)("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:[(0,d.jsx)(k.Trash2,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Reset Data"})]})]}),(0,d.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,d.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[(0,d.jsx)(j.Filter,{className:"w-4 h-4 inline mr-1"}),"Conversion Status"]}),(0,d.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-navy-500",children:[(0,d.jsx)("option",{value:"all",children:"All Sessions"}),(0,d.jsx)("option",{value:"converted",children:"Converted to Booking"}),(0,d.jsx)("option",{value:"not_converted",children:"Not Converted"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:[(0,d.jsx)(i.Calendar,{className:"w-4 h-4 inline mr-1"}),"Date Range"]}),(0,d.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-navy-500",children:[(0,d.jsx)("option",{value:"7",children:"Last 7 days"}),(0,d.jsx)("option",{value:"30",children:"Last 30 days"}),(0,d.jsx)("option",{value:"90",children:"Last 90 days"}),(0,d.jsx)("option",{value:"365",children:"Last year"})]})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Total Sessions"}),(0,d.jsx)(g.Users,{className:"w-5 h-5 text-navy-600"})]}),(0,d.jsx)("div",{className:"text-3xl font-bold text-slate-900",children:s.total})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Conversions"}),(0,d.jsx)(h.DollarSign,{className:"w-5 h-5 text-green-600"})]}),(0,d.jsx)("div",{className:"text-3xl font-bold text-slate-900",children:s.converted}),(0,d.jsxs)("div",{className:"text-sm text-slate-500 mt-1",children:[A,"% conversion rate"]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Avg Score"}),(0,d.jsx)(f.TrendingUp,{className:"w-5 h-5 text-blue-600"})]}),(0,d.jsx)("div",{className:"text-3xl font-bold text-slate-900",children:s.avgScore}),(0,d.jsx)("div",{className:"text-sm text-slate-500 mt-1",children:"out of 10"})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Revenue Potential"}),(0,d.jsx)(h.DollarSign,{className:"w-5 h-5 text-purple-600"})]}),(0,d.jsxs)("div",{className:"text-3xl font-bold text-slate-900",children:["$",(s.total-s.converted)*225]}),(0,d.jsx)("div",{className:"text-sm text-slate-500 mt-1",children:"from unconverted"})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Score Distribution"}),(0,d.jsx)("div",{className:"space-y-3",children:Object.entries(s.byRecommendation).map(([a,b])=>{let c=s.total>0?b/s.total*100:0;return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-slate-700 capitalize",children:C(a)}),(0,d.jsxs)("span",{className:"text-sm text-slate-600",children:[b," (",c.toFixed(0),"%)"]})]}),(0,d.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"h-2 rounded-full transition-all",style:{width:`${c}%`,backgroundColor:B(a)}})})]},a)})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,d.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Recent Sessions"})}),c?(0,d.jsx)("div",{className:"p-8 text-center text-slate-600",children:"Loading diagnostic sessions..."}):0===a.length?(0,d.jsx)("div",{className:"p-8 text-center text-slate-600",children:"No diagnostic sessions found for the selected filters."}):(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{className:"bg-slate-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Date"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Score"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Recommendation"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Converted"}),(0,d.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase",children:"Session ID"})]})}),(0,d.jsx)("tbody",{className:"divide-y divide-slate-200",children:a.map(a=>(0,d.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,d.jsx)("td",{className:"px-6 py-4 text-sm text-slate-900",children:new Date(a.created_at).toLocaleDateString()}),(0,d.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,d.jsx)("span",{className:"font-bold text-slate-900",children:a.total_score}),(0,d.jsx)("span",{className:"text-slate-500",children:"/10"})]}),(0,d.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,d.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium capitalize",style:{backgroundColor:`${B(a.recommendation)}20`,color:B(a.recommendation)},children:C(a.recommendation)})}),(0,d.jsx)("td",{className:"px-6 py-4 text-sm",children:a.converted_to_booking?(0,d.jsx)("span",{className:"text-green-600 font-medium",children:"✓ Yes"}):(0,d.jsx)("span",{className:"text-slate-400",children:"No"})}),(0,d.jsxs)("td",{className:"px-6 py-4 text-sm text-slate-500 font-mono",children:[a.session_id.substring(0,20),"..."]})]},a.id))})]})})]})]})]})})}]),c()}catch(a){c(a)}},!1),63963,a=>a.a(async(b,c)=>{try{var d=a.i(8189),e=a.i(2278),f=a.i(7859),g=a.i(41921),h=a.i(7785),i=a.i(661),j=a.i(55022),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/diagnostics",pathname:"/admin/diagnostics",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/diagnostics",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=frontend_fddc50c1._.js.map